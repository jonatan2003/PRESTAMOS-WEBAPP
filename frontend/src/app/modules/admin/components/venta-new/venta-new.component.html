<!-- Page header -->


<div class="container-fluid">
	<ul class="full-box list-unstyled page-nav-tabs">
		<li>
			<a class="active" routerLink="/admin/venta-new"><i class="fas fa-plus fa-fw"></i> &nbsp; AGREGAR VENTA</a>
		</li>
		<li>
			<a routerLink="/admin/venta-list"><i class="fas fa-clipboard-list fa-fw"></i> &nbsp; LISTA DE VENTA</a>
		</li>
		<li>
			<a routerLink="/admin/venta-search"><i class="fas fa-search fa-fw"></i> &nbsp; BUSCAR VENTA</a>
		</li>
		
	</ul>
</div>

<!-- Content here-->
<div class="container-fluid">
	<form class="form-neon" [formGroup]="form" (ngSubmit)="addVenta()" action="" class="form-neon" autocomplete="off">
		<fieldset>
			<legend><i class="fas fa-user"></i> &nbsp; Información básica</legend>
			<div class="container-fluid">
				<div class="row">

					<div class="col-12 col-md-4">
						<div class="form-group">
							<label for="empleado" class="">Empleado</label>
							<select formControlName="idempleado" class="form-control mt-2"
								(change)="onEmpleadoSelected($event)">
								<option value="" selected="" disabled="">Seleccionar al Empleado</option>
								<!-- Aquí debes iterar sobre tus productos disponibles para mostrar cada opción -->
								<option *ngFor="let empleados of listEmpleados" [value]="empleados.id">{{
									empleados.nombre }}</option>
							</select>
							<div class="alert alert-danger mt-2"
								[hidden]="form.get('idempleado').valid || form.get('idempleado').pristine">
								<span *ngIf="form.get('idempleado').errors?.['required']" class="text-danger">Este campo
									es requerido</span>
							</div>
						</div>
					</div>

					<div class="col-12 col-md-4">
						<div class="form-group">
							<label for="cliente" class="">Cliente</label>
							<select formControlName="idcliente" class="form-control mt-2"
								(change)="onClienteSelected($event)">
								<option value="" selected="" disabled="">Seleccionar al Cliente</option>
								<option *ngFor="let clientes of listClientes" [value]="clientes.id">{{ clientes.nombre
									}}</option>
							</select>
							<div class="alert alert-danger mt-2"
								[hidden]="form.get('idcliente').valid || form.get('idcliente').pristine">
								<span *ngIf="form.get('idcliente').errors?.['required']" class="text-danger">Este campo
									es requerido</span>
							</div>
						</div>
					</div>

					<div class="col-12 col-md-4">
						<div class="form-group">
							<label for="fecha_venta" class="">Fecha Venta</label>
							<input formControlName="fecha_venta" type="date" class="form-control" maxlength="27">
							<div class="alert alert-danger mt-2"
								[hidden]="form.get('fecha_venta').valid || form.get('fecha_venta').pristine">
								<span *ngIf="form.get('fecha_venta').errors?.['required']" class="text-danger">Este
									campo es requerido</span>
							</div>
						</div>
					</div>
					<div class="col-12 col-md-4">
						<div class="form-group">
							<label for="monto_total" class="bmd-label-floating">Monto Total</label>
							<input formControlName="monto_total" type="text" class="form-control" maxlength="10"
								minlength="10">
							<div class="alert alert-danger mt-2"
								[hidden]="form.get('monto_total').valid || form.get('monto_total').pristine">
								<span *ngIf="form.get('monto_total').errors?.['required']" class="text-danger">Este
									campo es requerido</span>
								<span *ngIf="form.get('monto_total').errors?.['minlength']" class="text-danger">El monto
									total debe tener exactamente 10 dígitos</span>
								<span *ngIf="form.get('monto_total').errors?.['maxlenght']" class="text-danger">El monto
									total debe tener exactamente 10 dígitos</span>
								<br>
								<span *ngIf="form.get('monto_total').errors?.['pattern']" class="text-danger">El monto
									total solo puede contener números</span>
							</div>
						</div>
					</div>
					<div class="col-12 col-md-4">
						<div class="form-group">
							<label for="tipo_pago" class="bmd-label-floating">Tipo Pago</label>
							<input formControlName="tipo_pago" type="text" class="form-control" maxlength="10">
							<div class="alert alert-danger mt-2"[hidden]="form.get('tipo_pago').valid || form.get('tipo_pago').pristine">
								<span *ngIf="form.get('tipo_pago').errors?.['required']" class="text-danger">Este campo es requerido</span>
								</div>
						</div>
					</div>
				</div>
			</div>
		</fieldset>
		<br><br><br>
		<p class="text-center" style="margin-top: 40px;">
			<button type="reset" class="btn btn-raised btn-secondary btn-sm"><i class="fas fa-paint-roller"></i> &nbsp;
				LIMPIAR</button>
			&nbsp; &nbsp;
			<button [disabled]="form.invalid" type="submit" class="btn btn-raised btn-info btn-sm"><i
					class="far fa-save"></i> &nbsp; GUARDAR</button>
		</p>
	</form>
</div>